
import { useState } from 'react'
import { FaLinkedin, FaGithub, FaInstagram, FaEnvelope } from "react-icons/fa"

export default function Home() {
  const [msg, setMsg] = useState('')
  const [sending, setSending] = useState(false)

  async function handleSubmit(e) {
    e.preventDefault()
    setSending(true)
    setMsg('')
    const data = Object.fromEntries(new FormData(e.target).entries())
    try {
      const res = await fetch('/api/contact', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify(data)
      })
      if(res.ok){ setMsg('‚úÖ Thanks ‚Äî I will contact you soon.'); e.target.reset(); }
      else { setMsg('‚ö†Ô∏è Server error ‚Äî please try later.'); }
    } catch(err){ setMsg('‚ùå Network error ‚Äî check server.'); }
    setSending(false)
  }

  return (
    <div>
      {/* ---------- HEADER ---------- */}
      <header className="container header" style={{display:'flex',justifyContent:'space-between',alignItems:'center',padding:'16px 0'}}>
        <div style={{display:'flex',alignItems:'center',gap:8}}>
          <img src="/logo.png" alt="logo" style={{width:40,height:40}} />
          <h1 style={{fontWeight:700,fontSize:22}}>Adarsh<span style={{color:'var(--indigo)'}}>Dev</span></h1>
        </div>
        <nav style={{display:'flex',gap:20,fontWeight:500}}>
          <a href="#services">Services</a>
          <a href="#work">Portfolio</a>
          <a href="#contact">Contact</a>
        </nav>
      </header>

      {/* ---------- HERO SECTION ---------- */}
      <main className="container" style={{paddingTop:24}}>
        <section style={{display:'flex',gap:32,alignItems:'center',marginBottom:48,flexWrap:'wrap'}}>
          <div style={{flex:1}}>
            <h2 style={{fontSize:36,margin:0}}>üöÄ I build <span style={{color:'var(--indigo)'}}>modern websites & web apps</span></h2>
            <p style={{marginTop:12,color:'#475569',fontSize:18,lineHeight:1.6}}>
              Full-stack developer (React, Node.js, Express, MongoDB).  
              I help businesses launch MVPs, migrate to modern stacks, and scale performance.
            </p>
            <div style={{marginTop:20,display:'flex',gap:12}}>
              <a className="btn" href="#contact">Get a quote</a>
              <a className="btn" href="#work" style={{background:'#fff',color:'#0f172a',border:'1px solid #e6edf3'}}>See my work</a>
            </div>
          </div>
          <div style={{flex:'0 0 420px'}} className="card">
            <h3 style={{marginTop:0}}>Quick lead form</h3>
            <form onSubmit={handleSubmit} style={{marginTop:12}}>
              <input name="name" placeholder="Your name" className="input" required />
              <div style={{height:8}}/>
              <input name="email" type="email" placeholder="Email" className="input" required />
              <div style={{height:8}}/>
              <input name="budget" placeholder="Budget (‚Çπ)" className="input" />
              <div style={{height:8}}/>
              <textarea name="message" rows="3" placeholder="Brief project description" className="input" />
              <div style={{height:12}}/>
              <button className="btn" type="submit" disabled={sending}>{sending? 'Sending...':'Send'}</button>
            </form>
            {msg && <p style={{color:'#059669',marginTop:8}}>{msg}</p>}
          </div>
        </section>

        {/* ---------- SERVICES ---------- */}
        <section id="services" style={{marginBottom:40}}>
          <h3 className="section-title">üíº Services I offer</h3>
          <div className="grid grid-3">
            <div className="card"><h4>Website</h4><p>SEO-ready responsive websites.</p></div>
            <div className="card"><h4>Web Apps & SaaS</h4><p>Full-stack apps with payments & auth.</p></div>
            <div className="card"><h4>Maintenance</h4><p>Monthly support & performance fixes.</p></div>
          </div>
        </section>

        {/* ---------- CONTACT ---------- */}
        <section id="contact" style={{marginBottom:40}}>
          <h3 className="section-title">üì© Contact & project brief</h3>
          <div style={{marginTop:12}} className="card">
            <form onSubmit={handleSubmit}>
              <input name="name" placeholder="Your name" className="input" required />
              <div style={{height:8}}/>
              <input name="email" type="email" placeholder="Email" className="input" required />
              <div style={{height:8}}/>
              <input name="phone" placeholder="Phone (optional)" className="input" />
              <div style={{height:8}}/>
              <textarea name="message" rows="5" placeholder="Project brief & goals" className="input" />
              <div style={{height:12}}/>
              <div style={{display:'flex',gap:8}}>
                <button className="btn" type="submit">{sending? 'Sending...':'Send proposal'}</button>
                <a className="btn" href="https://wa.me/?text=Hi%20Adarsh%2C%20I%20want%20a%20website" target="_blank" rel="noreferrer"
                  style={{background:'#fff',color:'#0f172a',border:'1px solid #e6edf3'}}>WhatsApp</a>
              </div>
            </form>
            {msg && <p style={{color:'#059669',marginTop:8}}>{msg}</p>}
          </div>
        </section>

        {/* ---------- FOOTER ---------- */}
        <footer style={{padding:'24px 0',borderTop:'1px solid #e6edf3',marginTop:24}}>
          <div style={{display:'flex',justifyContent:'space-between',alignItems:'center',flexWrap:'wrap'}}>
            <p style={{color:'#64748b'}}>¬© 2025 Adarsh Sharma ‚Äî Full-Stack Developer</p>
            <div style={{display:'flex',gap:16,fontSize:20}}>
              <a href="https://www.linkedin.com/in/aadarsh-sharma-127a56327?lipi=urn%25253Ali%25253Apage%25253Ad_flagship3_profile_view_base_contact_details%25253BNLGGRPs%25252FQnGrmxKeVcqMcg%25253D%25253D" target="_blank"><FaLinkedin /></a>
              <a href="https://github.com" target="_blank"><FaGithub /></a>
              <a href="https://www.instagram.com/__adarsh__.43?igsh=c2h1N2ExMTZqeWJo&utm_source=qr" target="_blank"><FaInstagram /></a>
              <a href="mailto:nxtayush3@gmail.com"><FaEnvelope /></a>
              <p>¬© 2025 AdarshDev. All rights reserved. Licensed under <a href="/LICENSE">MIT License</a>.</p>
            </div>
          </div>
        </footer>
      </main>
    </div>
  )
}
